!function(t){"use strict";function e(t,r){var n,o;for(n in t)o=t[n],void 0!==r&&(n=r+":"+n),o instanceof Object?e(o,n):i[n]=o}function r(t){return this.feature=t.feature,this}var n,i={},o={};r.prototype.isEnabled=function(t,e){for(var r,n=this.feature.split(","),o=n.length;o--;)if(r=n[o],~r.indexOf("!")){if(i[n[o].replace("!","")])return!1}else if(!i[r])return!1;return t instanceof Function&&t.call(e||this),!0},r.prototype.set=function(t){for(var e,r=this.feature.split(","),n=r.length;n--;)e=r[n],~e.indexOf("!")?i[e.replace("!","")]=!t:i[e]=t;return this},r.prototype.toggle=function(){for(var t,e=this.feature.split(","),r=e.length;r--;)t=e[r].replace("!",""),i[t]=!i[t];return this},t.gargoyle=n=function(t,e,n){return t=t.toString(),o[t]?(t=o[t],void 0!==e&&t.isEnabled(e,n),t):(t=o[t]=new r({feature:t}),void 0!==e&&t.isEnabled(e,n),t)},n.isEnabled=function(t){var e=Array.prototype.slice.call(arguments,1);return r.prototype.isEnabled.apply({feature:t},e)},n.set=function(t,r){var n={};return t&&t.constructor===String?n[t]=r:n=t||n,e(n),this},n.restore=function(){return i={},this}}(this);